listen: ":8080"

# 用于 HTTP 接口鉴权：Authorization: Bearer <token>
bearer_token: "changeme"

apisix_admin_url: "http://127.0.0.1:9180"
apisix_admin_token: "your-apisix-admin-token"

default_email: "admin@example.com"

storage_dir: "out"

# 每天凌晨 3 点执行续期检查
renew_cron: "0 0 3 * * *"

# 证书到期前多少天开始续期（默认 30 天）
renew_before_days: 30

# 任务状态保留时间（小时）
task_retention_hours: 168

# 任务清理定时任务
task_cleanup_cron: "0 0 1 * * *"

# 同步定时任务
sync_cron: "0 0 * * * *"

# 同步模式：strict 或 compat
# strict: APISIX 有但本地无的证书会被清理, 需要手动删除
# compat: APISIX 有但本地无的证书会被导入到本地（默认）
sync_mode: "compat"

# ACME 配置，可选
acme_directory_url: "https://acme-v02.api.letsencrypt.org/directory"

# lego 支持的 DNS Provider 名称，如 cloudflare, dnspod 等
acme_dns_provider: ""

# DNS Provider 所需的环境变量，如：
# acme_dns_env:
#   CF_DNS_API_TOKEN: "xxx"
acme_dns_env: {}

# 自动在 APISIX 中创建/更新 HTTP-01 路由
challenge_route:
  enable: true
  route_name: "apisix_acme_http01"
  upstream_nodes:
    - "127.0.0.1:8080"
  upstream_scheme: "http"
  priority: 0


